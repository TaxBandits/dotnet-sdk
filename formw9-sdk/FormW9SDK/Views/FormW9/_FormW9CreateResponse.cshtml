@model FormW9SDK.Models.FormW9.W9RequestByEmailResponse

<div class="modal-header">
    <h5 class="modal-title" id="exampleModalToggleLabel">Request By Email Response</h5>
    <button type="button" class="btn-close bg-white rounded-circle border-0 fw-bold position-absolute end-n-10 top-n-13 modal-close button-hide fs-18 fw-500" data-bs-dismiss="modal" aria-label="Close">X</button>
</div>
<div class="modal-body">
    @if (Model != null)
    {
        if (Model.Errors != null && Model.Errors.Count > 0)
        {
            <h2 class="tabel-sub-head">Error</h2>
            <div class="table-container mb-3">
                <table>
                    <tbody>
                        <tr class="fw-600 ">
                            <th class="text-center fw-600">Id</th>
                            <th class="text-center">Name</th>
                            <th class="text-center">Message</th>

                        </tr>

                        @foreach (var item in Model.Errors)
                        {
                            <tr>
                                <td class="text-center align-top">@item.Id</td>
                                <td class="text-center align-top">@item.Name</td>
                                <td class="text-center border-radious-bottom-right align-top">@item.Message</td>

                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else if (Model.FormW9Records != null)
        {
            if (Model.FormW9Records.ErrorRecords != null && Model.FormW9Records.ErrorRecords.Count > 0)
            {
                <h2 class="tabel-sub-head">Error Records</h2>
                <div class="table-container mb-3">
                    @foreach (var item in Model.FormW9Records.ErrorRecords)
                    {
                        <table class="mt-4">
                            <tbody>

                                @if (item.PayeeRef != null)
                                {
                                    <tr class="text-center "><td class="fw-600" style="border-bottom:none !important">Payee Ref : @item.PayeeRef</td></tr>
                                }
                                <tr class="fw-600 mt-3">

                                    <th class="text-center fw-600">Id</th>
                                    <th class="text-center">Name</th>
                                    <th class="text-center">Message</th>

                                </tr>

                                @foreach (var error in item.Errors)
                                {
                                    <tr>
                                        <td class="text-center align-top">@error.Id</td>
                                        <td class="text-center align-top">@error.Name</td>
                                        <td class="text-center border-radious-bottom-right align-top">@error.Message</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                </div>
            }
            else if (Model.FormW9Records.SuccessRecords != null && Model.FormW9Records.SuccessRecords.Count > 0)
            {
                <h2 class="tabel-sub-head sucesssrecord">Sucess Records</h2>
                <div class="border border-1 rounded">
                    
                   
                    <table>
                        <tbody>
                            <tr className="fw-600 ">
                                <th className="text-center fw-600" >Payee Ref</th>
                                <th className="text-center" >Email</th>
                                <th className="text-center" >W9Status</th>
                                <th className="text-center">StatusTs</th>
                            </tr>

                            @foreach (var item in Model.FormW9Records.SuccessRecords)
                            {
                                <tr>
                                    <td className="text-center align-top">
                                        @item.PayeeRef
                                    </td>
                                    <td className="text-center align-top">
                                        @item.Email
                                    </td>
                                    <td className="text-center border-radious-bottom-right align-top">
                                        @item.W9Status
                                    </td>
                                    <td className="text-center border-radious-bottom-right align-top">
                                        @item.StatusTs
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
        }
    }
</div>



